import { Connection, Keypair } from "@solana/web3.js";
import { PythSolanaReceiverConnection } from "../index";
import NodeWallet from "@coral-xyz/anchor/dist/cjs/nodewallet";

const vaa =
  "UE5BVQEAAAADuAEAAAADDQFBId3/+IeAS8A2nb5/HlZxBEQe4mHKjcoVENc/Rm7wyTAC5C9MnSMQsP4QvliB3eQpvY/2YvsDTnHLkYmJfpPYAQIU5tICRLdU24JxkNiPKvJEqZp6WNxhrLCXFI4srfiwXQPIRmqoja59k4mwFBaKJ8WlB+Uep/L1NK5nE5xCxS9CAAN2rWcOLRPIB1dz2t1xmCWBkN2DvDspSWyzKND4docILQapDiuAQVefjB31IunVqOZLKQZsu0DsvZElrtPBmEPWAAQWVCsi3KBxzTdVp9LlzJaIv7DVm2wMe9pHje/Ibkm55QlU2k1IwgZ/mqJQvfAbKddol56zpnwFfmKe2Pq6IdYlAQaAtEIThAvXWW25dOF+Wu7lFI+9AknEl/4y9Z7pJ3EiZUDzqmXHZeHRRJryT7pLAilJfLiHyO3bQNoC/BuVHqwdAAenAh59NVSdwZCCnzFwjoaNHbUqKmR2B8J6Kr7FuyPtQ0U4jhy0cyNzZhZJArwHT0dR4JLTpigKDuEeJObucYl0AQhBQc1oBd9B3mTnU2j5AeR3O00NvMr6eWlJRbanSHhG8Erfx17DIZZIAMr+Jj8EkqnrELYm658kgG9as4TrabG0AAoQKC1oyobtDj2GOhOGdYynAJwweb1ZoWpFIyX2GOWe0CqOZO0qPAZPbT614KvFZj2OdcAkPcaKMa4VWahCOod4AQuXxd6FbaoLRA1KUzXRUmm1kNQe0zhk+6k5FumSr1vOAgJMxtB1o6WAX2BMWelHNMUSuUtll6QaWQWrTVPYjP9gAA3BBxvoDFIEoMiD2mBwzEYl0W0B79AQMZvAOdSj+73UKDRGd979tFzq0lHF8IbkHEMX9UZzGQ+T9y2Z9sreYhZHAQ6N0g2/xqcEvEwVB8C+T+f4S7Yl0vB/mjnBwbsfVLzm2Umrup6sLYloPrmK3AJp/R6hqTsEXOsCCKruTdRG4wXEARDn+uyFB7ZiEjmIQhJYXqf5QRYwHrRCEoiCTh/pO+BJeUALaDjBSr5N+Cnl7FfvgOCikd8+R9qMsGPlOo2G5HoJABIV84lFRp8uKUXtwB46AU7wkfhHWeSshcwJbkyXg7dD1wxFJ+Hy28rfPAqV3gMv8LKVHY5Ee25gnZNyM3WhrCK3AGXUt+wAAAAAABrhAfrtrFhR4yubI7X5QRqMK6xKrj7U3XuBHdGnLqSqcQAAAAACfDxZAUFVV1YAAAAAAAeERn8AACcQj8wU+urWYoD6dB6yyGkB9U+Tzl0BAFUA/2FJGpMREt3xvYFHzRtkE3X3n1glEm1mVICHRjT9Cs4AAABFLgfEuwAAAAAKVPIT////+AAAAABl1LfsAAAAAGXUt+wAAABE6Eig0AAAAAAKVzi9Cs/sAHK3m95h50ljeYl8psvjLLBdnkrmJFVyVxDlCrX7r0egOUachX25eerI62UL/69fEeRjq7S3E8aKpqwuIpgGG3xHDpwdFkJOCmilco3LfDVRkpnLvEanm+1TjcX5AyuCLGERMjGRTQdklq5XWjkOvfOaZetYB3XOYJCfHRh2z1YUtJZNQtTtkUME9Ty2OuU3Zpmz3DGwCXtae30yUSMgSml45JzQkIEzBGy71jiwnjUcmGpfnFqtJlGsLuv5yA5VoZr2mNH0";
test("Initialize PythSolanaReceiverConnection", () => {
  const pythSolanaReceiverConnection = new PythSolanaReceiverConnection({
    connection: new Connection("https://api.mainnet-beta.solana.com"),
    wallet: new NodeWallet(new Keypair()),
  });

  console.log(pythSolanaReceiverConnection.postPriceUpdate(vaa));
});
